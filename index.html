<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
  <link rel="stylesheet" href="./style.css" />
  <title>Koordinat Giriş Sayfası</title>
</head>
<body>
  <div id="coordinate-container">
    <div class="input-group">
      <label for="x0">X:</label>
      <input type="text" id="x0" name="x0" required />
      <label for="y0">Y:</label>
      <input type="text" id="y0" name="y0" required />
    </div>
  </div>

  <div class="button-container">
    <button id="add-step">+ Aşama Ekle</button>
    <a href="#" class="ar-button" id="ar-button">
      <span class="material-symbols-outlined">flip</span>
      AR'yi Kullan
    </a>
  </div>

  <script>
    let stepCount = 1;

    document.getElementById('add-step').addEventListener('click', () => {
      const container = document.getElementById('coordinate-container');

      const inputGroup = document.createElement('div');
      inputGroup.className = 'input-group';

      inputGroup.innerHTML = `
        <label for="x${stepCount}">X:</label>
        <input type="text" id="x${stepCount}" name="x${stepCount}" required />
        <label for="y${stepCount}">Y:</label>
        <input type="text" id="y${stepCount}" name="y${stepCount}" required />
      `;

      container.appendChild(inputGroup);
      stepCount++;
    });

    document.getElementById('ar-button').addEventListener('click', function(event) {
      event.preventDefault();

      const coords = [];
      for (let i = 0; i < stepCount; i++) {
        const x = document.getElementById(`x${i}`).value.trim();
        const y = document.getElementById(`y${i}`).value.trim();

        if (!x || !y) {
          alert(`${i + 1}. aşama eksik! Lütfen hem X hem Y alanlarını doldurun.`);
          return;
        }

        coords.push(`x${i}=${encodeURIComponent(x)}&y${i}=${encodeURIComponent(y)}`);
      }

      const queryString = coords.join('&');
      window.location.href = `ar.html?${queryString}`;
    });
  </script>
</body>
</html>
